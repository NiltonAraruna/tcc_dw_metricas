\chapter{Projeto de Estudo de Caso}

Este capítulo irá apresentar a estratégia de pesquisa adotada durante o trabalho, buscando elaborar um protocolo para o estudo de caso que será realizado. Elementos de pesquisa como o problema a ser resolvido e quais são os objetivos a serem alcançados serão identificados e explicados. Também será apresentado o método para coleta dos dados e como eles serão analisados.


\section{Definição Sobre Estudo de Caso}

O estudo de caso é uma estratégia de pesquisa utilizada para investigar um tópico de maneira empírica através de um conjunto de procedimentos pré-especificados \cite{yin2001estudo}. Buscando diferenciar o estudo de caso de outras estratégias de pesquisa, \citeonline{yin2001estudo} esclarece que um estudo de caso deve focalizar acontecimentos contemporâneos, não havendo assim exigência quanto ao controle sobre os eventos comportamentais. Dessa forma, o estudo de caso difere de um experimento pelo motivo que neste há controle e manipulação sobre os eventos, diferentemente do estudo de caso, que não os manipula. Em suma, a essência de qualquer estudo de caso reside em esclarecer uma decisão ou um conjunto de decisões, considerando o motivo pelo qual elas foram tomadas e qual os resultados das suas implementações \cite{schramm_notes_1971}. 

Uma vantagem dos estudos de caso encontra-se no fato deles serem mais fáceis de serem planejados, além de possuírem maior caráter realista, porém as desvantagens esbarram no fato dos resultados serem mais difíceis de serem interpretados e generalizados, ou seja, é possível mostrar os efeitos de uma situação típica, porém é necessária maior análise para que se possa generalizar a outras situações \cite{wohlin2012experimentation}.


A estrutura do protocolo de estudo de caso proposta se baseia em \citeonline{case-study-template-2008} e se apresenta dividida nos seguintes tópicos, cada um com seu objetivo específico:

\begin{easylist}[itemize]

& \textbf{Background - Seção \ref{sec:Background}}: Identificar outros estudos acerca do tópico, definir a questão de pesquisa principal e suas proposições derivadas que serão abordado por este estudo.

& \textbf{Design - Seção \ref{sec:Design}}: Identificar se o projeto de pesquisa é um caso único ou múltiplo bem como seu propósito geral.

& \textbf{Seleção - Seção \ref{sec:Seleção}}: Apresentar critérios para a seleção do caso e letcdescrição do objeto de estudo a ser analisado.

& \textbf{Fonte e Método de Coleta de Dados - Seção \ref{sec:Fonte e Método de Coleta de Dados}}: Identificar os dados que serão coletados, definindo um plano para a coleta e como a informação será armazenada.

& \textbf{Processo de Análise dos Dados - Seção \ref{sec:Análise}}: Identificar os critérios para interpretação dos resultados do estudo de caso, relacionar os dados com a questão de pesquisa e elaborar a explicação do encontrado.

& \textbf{Ameaças a validade do estudo de caso - Seção \ref{sec:Validade}}: Elicitar tipos de validades aplicáveis a um estudo de caso baseando-se no trabalho desenvolvido por \citeonline{yin2001estudo}, sendo elas: constructo, interna, externa e confiabiliade.

\end{easylist}


\section{Background}\label{sec:Background}

Esta seção contém referências sobre os trabalhos que antecederam esse estudo de caso dentro de um contexto similar ao que foi apresentado, assim como a própria questão geral de pesquisa a ser respondida com todos os elementos necessários para respondê-la.

\subsection{Trabalhos Antecedentes}

O principal trabalho que antecede essa ideia foi desenvolvido por \citeonline{rego_monitoramento_2014}, no qual a solução para monitoramento de métricas de código fonte utilizando \textit{Data Warehouse} foi desenvolvida. \citeonline{novello_uma_2006} utilizou \textit{Data Warehouse} para monitoramento de métricas no processo de desenvolvimento de software, porém não essas métricas não eram de código fonte. Não foram encontrados outros trabalhos que usassem \textit{Data Warehouse} para aferir qualidade do que está sendo desenvolvido relacionando métricas de código fonte a cenários de limpeza, tal qual foi feito por \citeonline{rego_monitoramento_2014}.

\subsection{Questão de Pesquisa}

Toda pesquisa se inicia com algum tipo de problema, porém nem todo problema é passível de tratamento científico. Para que um problema seja de natureza científica ele deve estar envolvido a variáveis que podem ser testadas \cite{gil_como_2002}. Por causa disso, \citeonline{gil_como_2002} ainda define que todo problema deve ser empírico e suscetível de solução, além de ser delimitado a uma dimensão viável.

A questão de pesquisa deriva do problema identificado e busca definir o propósito da medição e o objeto que será medido, seja ele produto, processo ou recurso. Além disso deve caracterizar o assunto a ser tratado e o ponto de vista que se delimita o escopo \cite{Basili96b} \cite{caldiera_goal_1994}.

Para atender a questão de pesquisa foi utilizado o mecanismo goal-question-metrics (GQM). O GQM combina em si muitas das técnicas de medição e as generaliza para incorporar processos, produtos ou recursos, o que torna seu uso adaptável a ambientes diferentes \cite{caldiera_goal_1994}. O GQM possui objetivos específicos para a questão de pesquisa, cada um contendo questões específicas que buscam responder através da coleta de métricas a questão geral de pesquisa e assim atender o problema do estudo de caso \cite{Basili96b}. A estrutura do estudo de caso englobando o GQM utilizado é apresentada da seguinte maneira:  

\begin{figure}[h!]
\centering
\includegraphics[keepaspectratio=false,scale=0.40]{figuras/figuras_matheus/projeto_de_pesquisa.eps}
\caption{Estrutura do estudo de caso}
\label{fig:pesquisa}
\end{figure}
\FloatBarrier

Aplicando o modelo estrutural adotado e levando em conta a análise do problema identificado na seção \ref{intro_problema} foi elaborada a seguinte questão de pesquisa:

\textbf{Questão de Pesquisa: \textit{O uso de um ambiente de Data Warehousing para aferição e monitoramento da qualidade interna do código-fonte é eficaz e eficiente do ponto de vista da equipe de qualidade?}}

Os objetivos identificados para responder a questão geral de pesquisa, bem como suas questões específicas e as métricas levantadas para cada questão serão apresentadas a seguir.

\textbf{Objetivo 01:} Avaliar a eficácia e eficiência do uso de \textit{Data Warehouse} para monitoramento de métricas de código fonte. \newline

% Questão 01

\textbf{QE01:} Quantas tomadas de decisão foram realizadas pela equipe baseando-se no uso da solução desenvolvida em um <período de tempo>?

\textbf{Fonte:} Registro de observação em campo.

\textbf{Métrica:} Número de decisões tomadas/tempo. \newline

% Questão 02

\textbf{QE02: } Quantas tomadas de decisão ao todo foram realizadas pela equipe baseando-se no uso da solução desenvolvida?

\textbf{Fonte:} Registro de observação em campo.

\textbf{Métrica:} Número de decisões tomadas. \newline


% Questão 03

\textbf{QE03: } Qual a avaliação da equipe de qualidade quanto a detecção de cenários de limpeza de código?

\textbf{Fonte:} Questionário com equipe de qualidade.

\textbf{Métrica:} muito bom, bom, regular, ruim, muito ruim. \newline

% Questão 04

\textbf{QE04: } Com que frequência a equipe de qualidade encontra falhas relacionados à utilização da ferramenta em um determinado intervalo de tempo?

\textbf{Fonte:} Registro de observação em campo.

\textbf{Métrica:} Quantidade de falha / tempo (release, sprint).

\textbf{Interpretação da métrica:} Quanto mais próximo de zero melhor 0=<X \newline

% Questão 05

\textbf{QE05: } Qual a quantidade total de falhas encontradas pela equipe de qualidade relacionadas à utilização da ferramenta?

\textbf{Fonte:} Registro de observação em campo (áudio/vídeo).

\textbf{Métrica:} Quantidade de falhas. \newline

% Questão 06

\textbf{QE06: } Qual a proporção do uso da ferramenta para tomada de decisões?

\textbf{Fonte:} Questionário com equipe de qualidade.

\textbf{Métrica:} Número de decisões tomadas / número de vezes que a solução foi usada. \newline


% Questão 07

\textbf{QE07: } Qual a quantidade de cenários que foram corrigidos após utilização da solução?

\textbf{Fonte:} Código fonte.

\textbf{Métrica:} Números de cenários corrigidos / número de cenários encontrados. \newline

% Questão 08

\textbf{QE08: } Qual o nível de satisfação do uso da solução em comparação à solução anterior? 

\textbf{Fonte:} Equipe de qualidade.

\textbf{Métrica:} Muito satisfeito, Satisfeito, Neutro, Insatisfeito, Muito Insatisfeito. \newline

% Questão 09

\textbf{QE09: } Qual a taxa de oportunidade de melhoria de código em um intervalo de tempo (sprint, release)? 

\textbf{Fonte:} Código fonte.

\textbf{Métrica:} Taxa de oportunidade de melhoria de código: $$ T_r =   \frac{{\sum_{i=1}^{n}{Ce_i}}}{\sum_{i=1}^{n}{Cl_i}} $$ $ Ce $ é o total de cenários de limpezas identificados e $ Cl $  é o total de classes em um intervalo de tempo (sprint, release).

\textbf{Interpretação da métrica:} O intervalo qualitativo que definirá a interpretação desta será desenvolvido a partir de uma análise estatística a ser realizada na segunda parte desse trabalho, analisando valores coletados na aferição dessa métrica em projetos de software livre previamente selecionados para servirem de referência. 

\section{Design} \label{sec:Design}

\citeonline{stake_art_1995} identifica três modalidades de estudo de caso: intrínseco, instrumental e coletivo. Dentre essas definições, este estudo de caso se caracteriza como instrumental, pois se busca um entendimento geral sobre o problema de pesquisa a partir do estudo de um caso particular. Tal característica se assemelha ao tipo de estudo de caso definido como exploratório por \citeonline{yin2001estudo}, onde a visão acurada de um caso particular poderá fornecer uma visão geral do problema considerado.

A justificativa para este estudo de um caso particular se dá pelo motivo de que o tema abordado foi pouco explorado até o momento. Assim espera-se que este caso único componha um estudo de múltiplos casos, pois segundo \citeonline{gil_como_2002} esta abordagem pode inserir as evidências coletadas nesse trabalho em diferentes contextos, com o intuito de elaborar uma pesquisa de melhor qualidade.

\section{Seleção} \label{sec:Seleção}

A instituição selecionada para este estudo de caso foi o Tribunal de Contas da União. Para aferir a qualidade de sistemas desenvolvidos internamento no TCU, a equipe responsável pela qualidade estipulou valores para os indicadores das métricas exportadas pelo Sonar de acordo com pesquisas bibliográficas e pelo próprio consenso entre as equipes de desenvolvimento, analisando tanto projetos antigos, quando ainda não havia tamanha necessidade em aumentar a qualidade interna do código, como em projetos mais recentes, quando essa necessidade passou a existir com maior intensidade. A interpretação e visualização de dados extraídos do \textit{Sonar} são feitas através do \textit{plugin Total Quality}, tendo sido esse \textit{plugin} responsável pelos cálculos cujos resultados apresentados em um \textit{dashboard} indicam valores para métricas de diferentes formas, entre elas destacam-se rankings e acompanhamento histórico. A aferição da qualidade do código fonte no TCU não é feita com uma frequência já definida, sendo colocada em execução de maneira relativa para cada equipe, normalmente quando essa questão é apresentada em reunião como algo negativo, não havendo uma política já estabelecida para isso.

As dificuldades encontradas pelas equipes de desenvolvimento no TCU estão concentradas no fato de não haver consenso em relação a atualização dos indicadores das métricas. Além disso, após atualizações na ferramenta de análise estática \textit{Sonar}, algumas métricas deixaram de ser medidas, o que tem causado inconsistências na apresentação dos dados relacionados à qualidade do código fonte no \textit{dashboard}.

Portanto a seleção justifica-se pelo fato do TCU possuir um ambiente onde o estudo da eficácia e eficiência da solução de \textit{data warehousing} pode complementar o monitoramento de métricas de código-fonte já realizado no local.



\section{Fonte dos Dados Coletados e Método de Coleta} \label{sec:Fonte e Método de Coleta de Dados}

Nesse estudo de caso, os dados serão coletados através de registros de observações em campo, questionários e resultados gerados pela própria solução após análise direta do código fonte.

Os registros oriundos de observações em campo são coletados durante encontros realizados no próprio TCU com a equipe responsável pela tomada de decisões de qualidade de código fonte. Nesses encontros, a solução proposta é utilizada e qualquer atitude relacionada ao seu uso pela equipe é registrado.

A adoção de questionários foi utilizada tanto para dados qualitativos quanto para dados quantitativos. Um exemplo disso é a questão específica 06, em que se busca saber a proporção de decisões tomadas influenciadas pela solução via questionário com a empresa. O uso de questionário na questão 06 é quantitativo, enquanto na questão 08 é feito um questionário para saber o nível de satisfação da empresa quanto ao uso da solução, sendo esse um tipo de dado qualitativo.

Dados resultantes da própria ferramenta, como gráficos automaticamente gerados, serão coletados a medida que a ferramenta for utilizada ao longo do tempo.

\section{Processo de Análise dos Dados} \label{sec:Análise}

Análise dos dados coletados durante o estudo de caso a ser realizado no TCU será realizado através de 4 etapas:

\begin{easylist}[itemize]	
	
	& \textbf{Categorização: } Organização dos dados em duas categorias - qualitativos e quantitativos. Os 		dados qualitativos referem-se aos questionários realizados. Os dados quantitativos, por sua vez, 			referem-se aos valores numéricos da solução de DW para monitoramento de métricas. 
	& \textbf{Exibição: } Consiste na organização dos dados coletados para serem exibidos através de 				gráficos, tabelas e texto para poderem ser analisados. 
	& \textbf{Verificação: } Atestar padrões, tendências e aspectos específicos dos significados dos 				dados. Procurando assim gerar uma discussão e interpretação de cada dado exibido.
	& \textbf{Conclusão: } Agrupamento dos resultados mais relevantes das discussões e interpretações dos 			dados anteriormente apresentados.
	
	\end{easylist}

\section{Ameaças a Validade do Estudo de Caso} \label{sec:Validade}

\citeonline{yin2001estudo} descreve como principais ameaças relacionadas à validade do estudo de caso as ameaças relacionadas à validade do constructo, à validade interna, à validade externa e à confiabilidade. As quatro ameaças definidas por ele, bem como a forma usada nesse trabalho para preveni-las, são descritas da seguinte maneira: 

\begin{easylist}[itemize]	

& \textbf{Validade do constructo: } A validade de construção está presente na fase de coleta de dados, quando deve ser evidenciado as múltiplas fontes de evidência e a coleta de um conjunto de métricas para que se possa saber exatamente o que medir e quais dados são relevantes para o estudo, de forma a responder as questões de pesquisa \cite{yin2001estudo}. Buscou-se garantir a validade de construção ao definir objetivos com evidências diferentes. Estas, por sua vez, estão diretamente relacionadas com os objetivos do estudo de caso e os objetivos do trabalho. 

& \textbf{Validade interna: } Para \citeonline{yin2001estudo} o uso de várias fontes de dados e métodos de coleta permite a triangulação, uma técnica para confirmar se os resultados de diversas fontes e de diversos métodos convergem. Dessa forma é possível aumentar a validade interna do estudo e aumentar a força das conclusões.
A triangulação de dados se deu pelo resultado da solução de \textit{Data Warehouse} que utiliza o código-fonte (explicada no capítulo \ref{chap:arquitetura} ) , pela análise de questionários e pelos dados coletados através de entrevistas.

& \textbf{Validade externa: } Por este ser um caso único, a generalização do estudo de caso se dá de maneira pobre \cite{yin2001estudo}. Assim é necessária a utilização do estudo em múltiplos casos para que se comprove a generalidade dos resultados. Como este trabalho é o primeiro a verificar a eficácia e eficiência da solução para o estudo de caso no TCU, não há como correlacionar os resultados obtidos a nenhum outro estudo.

& \textbf{Confiabilidade: } Com relação a confiabilidade, \citeonline{yin2001estudo} associa à repetibilidade, desde que seja usada a mesma fonte de dados. Nesse trabalho o protocolo de estudo de caso apresentado nessa seção garantem a repetibilidade desse trabalho e consequentemente a validade relacionada à confiabilidade.

\end{easylist}	


\section{Considerações Finais do Capítulo} 

Esse capítulo teve como objetivo apresentar o protocolo de estudo de caso que será adotado na continuação desse trabalho. A coleta e análise dos dados coletados seguindo esse protocolo ocorrerão no próximo semestre próximo semestre.

\label{estudo de caso}

